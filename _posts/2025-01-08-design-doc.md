---
layout: post
title: 如何写软件设计文档,我的实践 
categories: [软件工程]
tags: [架构]
description: 分享我对软件设计文档的实践与思考
---

## 一、软件设计文档的目的
 
对于我和我的团队而言，软件设计文档旨在：
- **明确思路**：梳理问题、目标与解决方案,识别风险,做到胸有成竹。
- **识别依赖**：提前确定外部依赖，与利益相关方达成共识。
- **促进沟通**：便于团队成员理解设计，参与评估与讨论，集思广益。
- **任务拆解**：确保任务分配明确，团队协同工作，共同达成单个成员难以完成的任务

你可以从上面这些目标中发现，对我的团队而言，软件设计文档开发前的意义，比维护阶段
的意义大，尽管他对维护阶段带来的帮助也不小。

对于软件工程师而言，是否能够写好一个软件设计文档，决定能否将自己的工程影响力扩展
到个人产出之外。如果你编写了一个设计，让你和其他三位工程师能够协同工作，那么你的
工程产出就变成了“我协调了一个团队，共同构建了一个我们中任何一个人都无法单独完成
的东西。


基于此，实践中，我形成了软件设计文档的八股文。

## 二、软件设计文档的八股文

### 1. 背景、目标和约束条件
开篇明义，介绍这个软件设计的背景，明确要解决的核心问题。

列出所有的约束条件。比如某些新功能的重构，约束条件就是要兼容老的接口。

时间限制也是约束条件。

### 2. 设计遵循的原则
明确设计应当遵循的指导原则，这些原则可能涉及用户体验、性能优化、安全性、可扩展性等方面。

这些原则应明确在遭遇冲突时，优先级的考量。例如，有时性能优化为首要任务，而其他情况下，灵活性
和可扩展性则被视为更为重要。

通过阐述这些原则，文档不仅展示了设计的价值取向，也为团队成员提供了决策时的参考框架。

### 3. 系统架构
详细描述系统的整体结构，包括层次划分、模块间关系、数据流向等。使用图表、UML图等工具，直观展示系统
的骨架，帮助读者快速把握全局。

通常，这里会有一张high level的系统架构图，简要描述如下：
1) 图中展示了各个模块及其运行态关系，如哪些模块作为库集成到其他模块中，哪些作为独立进程（daemon）运行。

2)结合图说明模块分工: 明确每个模块的基本职责,突出显示新增或变更模块的具体职责

3)图中体现出进程间通信机制: 对于独立运行的模块，说明其使用的IPC通信机制或接口;区分是基于依赖关系的
直接接口调用，还是基于契约解耦的依赖（如ROS2）

>>![system arch示例](/assets/media/android_system_arch.png) 


### 4. 系统提供的功能、接口和编程模型



### 5. 系统内模块划分

### 6. 核心数据结构设计

### 7. 典型场景交互图

### 8. 核心算法实现

## 三、其它


tomorrow.cyz@gmail.com 

